{"version":3,"sources":["utils.ts","types/SudokuCell.ts","types/Sudoku.ts","types/SudokuConstraint.ts","types/SudokuFactory.ts","types/SudokuVariants.ts","config.ts","components/SudokuCellEditor.tsx","components/SudokuHint.tsx","types/SudokuHelper.ts","components/SudokuOptionsEditor.tsx","components/SudokuSolver.tsx","components/SudokuEraser.tsx","components/SudokuPossibilities.tsx","components/SudokuEditor.tsx","types/SudokuStyler.ts","components/SudokuVariantSelector.tsx","components/SudokuApp.tsx","components/SudokuAppBar.tsx","App.tsx","app/SudokuSlice.ts","app/store.ts","serviceWorker.ts","index.tsx"],"names":["range","from","to","assert","Array","keys","map","v","SudokuCell","value","_value","this","other","isValidValue","ValidValues","includes","Sudoku","nRows","nCols","constraints","_nRows","_nCols","_constraints","_contents","rowIndexes","colIndexes","indexes","_indexes","row","col","setValue","index","allowsValue","blockedValues","Set","forEach","add","filter","isValidIndex","newValue","push","SudokuConstraint","area","_area","firstRow","lastRow","firstCol","lastCol","sudoku","appliesTo","getValue","constraintIndexes","constraintIndex","SudokuRowConstraint","colFrom","colTo","SudokuColumnConstraint","rowFrom","rowTo","SudokuAreaConstraint","size","SudokuFactory","areas","areaConstraints","rowConstraints","r","colConstraints","c","getAreaConstraints","variant","fill","create","getBasicConstraints","subConstraints","SudokuVariants","Basic","id","name","createBasicSudoku","fillBasicSudoku","NRC","createNRCSudoku","fillNRCSudoku","Default","sudokuVariant","options","showPossibleValues","showHint","useStyles","makeStyles","theme","createStyles","textField","textAlign","SudokuCellEditor","props","classes","sudokuOptions","useState","noValidate","autoComplete","Input","className","disableUnderline","onChange","event","Number","target","isNaN","root","position","top","left","marginLeft","SudokuHint","sudokuHelper","mandatoryValue","IconButton","color","onClick","proposal","SudokuHelper","_sudoku","_info","allowedValues","length","setMandatoryValue","info","getInfo","constraint","nPossibilities","SudokuOptionsEditor","React","state","setState","handleChange","checked","onOption","FormControl","component","FormGroup","Object","entries","label","key","FormControlLabel","control","Switch","SudokuSolver","Button","startIcon","solve","hint","getHint","setTimeout","SudokuEraser","onErase","possibleValues","fontSize","fontFamily","SudokuPossibilities","displayValues","join","lines","n","substr","line","replace","SudokuEditor","change","setChange","setOptions","helper","analyze","table","marginRight","border","borderSpacing","tableCell","backgroundColor","padding","margin","verticalAlign","width","height","getKey","Grid","container","direction","justify","alignItems","style","defaultBorder","boldBorder","borderTop","borderRight","borderBottom","borderLeft","getStyle","Box","mt","mb","clear","formControl","spacing","minWidth","selectEmpty","marginTop","SudokuVariantSelector","setVariant","InputLabel","Select","native","values","onVariant","option","SudokuApp","setSudoku","Paper","elevation","flexGrow","menuButton","title","SudokuAppBar","AppBar","Toolbar","edge","aria-label","Typography","App","SudokuSlice","createSlice","initialState","reducers","store","configureStore","reducer","counter","sudokuReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b239de80.chunk.js","sourcesContent":["import assert from \"assert\"\n\nexport function range(from: number, to: number | null = null): number[] {\n    if (to === null) {\n        to = from\n        from = 0\n    }\n    assert(to >= from)\n    return Array.from(Array(to - from).keys()).map(v => from + v)\n}\n","import assert from \"assert\"\nimport { range } from \"../utils\"\n\nexport type SudokuValue = number | null\n\nexport class SudokuCell {\n    static readonly ValidValues = range(1, 10)   // [1, ..., 9]\n    private _value: SudokuValue = null\n\n    constructor(value: SudokuValue = null) {\n        this.value = value\n    }\n\n    static isValidValue(value: SudokuValue) {\n        return value === null || SudokuCell.ValidValues.includes(value)\n    }\n\n    get value(): SudokuValue {\n        return this._value\n    }\n\n    set value(value: SudokuValue) {\n        assert(SudokuCell.isValidValue(value))\n        this._value = value\n    }\n\n    equals(other: SudokuCell) {\n        return this.value === other.value\n    }\n\n    get isNull() {\n        return this.value === null\n    }\n}\n","import assert from \"assert\"\nimport { SudokuCell, SudokuValue } from \"./SudokuCell\"\nimport { range } from \"../utils\"\nimport { SudokuConstraint } from \"./SudokuConstraint\"\n\nexport type SudokuIndex = {\n    row: number,\n    col: number\n}\n\nexport class Sudoku {\n    private _nRows: number\n    private _nCols: number\n    private _constraints: SudokuConstraint[]\n    private _contents: SudokuCell[][]\n\n    public readonly rowIndexes: number[]\n    public readonly colIndexes: number[]\n    public indexes: SudokuIndex[]\n\n    constructor(nRows: number, nCols: number, constraints: SudokuConstraint[]) {\n        assert(nRows > 0 && nCols > 0)\n        this._nRows = nRows\n        this._nCols = nCols\n        this._constraints = constraints\n\n        this.rowIndexes = range(this._nRows)\n        this.colIndexes = range(this._nCols)\n        this.indexes = this._indexes\n\n        this._contents = []\n        for (let row of this.rowIndexes) {\n            this._contents[row] = []\n            for (let col of this.colIndexes) {\n                this.setValue({row, col}, null)\n            }\n        }\n    }\n\n    public clear(): void {\n        for (let index of this.indexes) {\n            this.setValue(index, null)\n        }\n    }\n\n    get nRows(): number {\n        return this._nRows\n    }\n\n    get nCols(): number {\n        return this._nCols\n    }\n\n    private get _indexes(): SudokuIndex[] {\n        const indexes = []\n        for (let row of this.rowIndexes) {\n            for (let col of this.colIndexes) {\n                indexes.push({row, col})\n            }\n        }\n        return indexes\n    }\n\n    get constraints(): SudokuConstraint[] {\n        return this._constraints\n    }\n\n    public isValidIndex(index: SudokuIndex): boolean {\n        const {row, col} = index\n        return 0 <= row && row < this._nRows &&\n               0 <= col && col < this._nCols\n    }\n\n    public isValidValue(index: SudokuIndex, value: SudokuValue): boolean {\n        if (!SudokuCell.isValidValue(value)) {\n            return false\n        }\n        // value is potentially valid, next check constraints\n        for (let constraint of this._constraints) {\n            // If any constraint fails, then the value is not valid for this index\n            if (! constraint.allowsValue(this, index, value)) {\n                return false\n            }\n        }\n        // All constraints pass => value is valid for this index\n        return true\n    }\n\n    public blockedValues(index: SudokuIndex): SudokuValue[] {\n        // const value = this.getValue(index)\n        // if (value !== null) {\n        //     return SudokuCell.ValidValues.filter(v => v !== value)\n        // }\n        const blockedValues = new Set<SudokuValue>()\n        for (let constraint of this._constraints) {\n            constraint.blockedValues(this, index).forEach(v => blockedValues.add(v))\n        }\n        return Array.from(blockedValues)\n    }\n\n    public allowedValues(index: SudokuIndex): SudokuValue[] {\n        // const value = this.getValue(index)\n        // if (value !== null) {\n        //     return [value]\n        // }\n        const blockedValues = this.blockedValues(index)\n        return SudokuCell.ValidValues.filter(v => !blockedValues.includes(v))\n    }\n\n    public setValue(index: SudokuIndex, value: SudokuValue): void {\n        assert(this.isValidIndex(index))\n        const newValue = new SudokuCell(value)\n        assert(this.isValidValue(index, value))\n        const {row, col} = index\n        this._contents[row][col] = newValue\n    }\n\n    public getValue(index: SudokuIndex): SudokuValue {\n        assert(this.isValidIndex(index))\n        const {row, col} = index\n        return this._contents[row][col].value\n    }\n}\n","import { SudokuValue } from \"./SudokuCell\"\nimport { Sudoku, SudokuIndex } from \"./Sudoku\"\nimport { range } from \"../utils\"\n\nexport type SudokuArea = {\n    from: SudokuIndex\n    to: SudokuIndex\n}\n\nexport abstract class SudokuConstraint {\n    private readonly _area: SudokuArea\n\n    protected constructor(area: SudokuArea) {\n        this._area = area\n    }\n\n    get firstRow(): number {\n        return this._area.from.row\n    }\n\n    get lastRow(): number {\n        return this._area.to.row\n    }\n\n    get firstCol(): number {\n        return this._area.from.col\n    }\n\n    get lastCol(): number {\n        return this._area.to.col\n    }\n\n    appliesTo(index: SudokuIndex): boolean {\n        return this.firstRow <= index.row && index.row <= this.lastRow &&\n               this.firstCol <= index.col && index.col <= this.lastCol\n    }\n\n    constraintIndexes(sudoku: Sudoku): SudokuIndex[] {\n        let indexes = []\n        for (let row of range(this.firstRow, this.lastRow + 1)) {\n            for (let col of range(this.firstCol, this.lastCol + 1)) {\n                indexes.push({row, col})\n            }\n        }\n        return indexes\n    }\n\n    blockedValues(sudoku: Sudoku, index: SudokuIndex): SudokuValue[] {\n        if (this.appliesTo(index)) {\n            const value = sudoku.getValue(index)    // don't block current value\n            return this.constraintIndexes(sudoku)\n                .map(index => sudoku.getValue(index))\n                .filter(v => !(v === null || v === value))\n        } else {\n            return []\n        }\n    }\n\n    allowsValue(sudoku: Sudoku, index: SudokuIndex, value: SudokuValue) {\n        if (value === null) {\n            // It is always possible to clear a value\n            return true\n        } else if (this.appliesTo(index)) {\n            // Check constraint\n            for (let constraintIndex of this.constraintIndexes(sudoku)) {\n                if (constraintIndex.row === index.row && constraintIndex.col === index.col) {\n                    // Overwrite of own value should be possible\n                    continue\n                }\n                if (sudoku.getValue(constraintIndex) === value) {\n                    // Value is already present in the constrained area\n                    return false\n                }\n            }\n        }\n        return true\n    }\n}\n\nexport class SudokuRowConstraint extends SudokuConstraint {\n    constructor(row: number, colFrom: number = 0, colTo: number = 8) {\n        super({from: {row, col: colFrom}, to: {row, col: colTo}})\n    }\n}\n\nexport class SudokuColumnConstraint extends SudokuConstraint {\n    constructor(col: number, rowFrom: number = 0, rowTo: number = 8) {\n        super({from: {row: rowFrom, col}, to: {row: rowTo, col}})\n    }\n}\n\nexport class SudokuAreaConstraint extends SudokuConstraint {\n    constructor(row: number, col: number, size: number = 3) {\n        super({from: {row, col}, to: {row: row + size - 1, col: col + size - 1}})\n    }\n}","import { Sudoku } from \"./Sudoku\"\nimport { range } from \"../utils\"\nimport { SudokuAreaConstraint, SudokuColumnConstraint, SudokuConstraint, SudokuRowConstraint } from \"./SudokuConstraint\"\nimport { SudokuVariant } from \"./SudokuVariants\"\n\nexport class SudokuFactory {\n    private static getAreaConstraints(areas: number[]): SudokuConstraint[] {\n        const areaConstraints: SudokuConstraint[] = []\n        areas.forEach(row => {\n            areas.forEach(col => {\n                areaConstraints.push(new SudokuAreaConstraint(row, col))\n            })\n        })\n        return areaConstraints\n    }\n\n    private static getBasicConstraints(nRows: number, nCols: number): SudokuConstraint[] {\n        const rowConstraints = range(nRows).map(r => new SudokuRowConstraint(r))\n        const colConstraints = range(nCols).map(c => new SudokuColumnConstraint(c))\n        const areaConstraints = SudokuFactory.getAreaConstraints([0, 3, 6])\n        return [...rowConstraints, ...colConstraints, ...areaConstraints]\n    }\n\n    public static create(variant: SudokuVariant, fill: boolean) {\n        const sudoku = variant.create()\n        if (fill) {\n            variant.fill(sudoku)\n        }\n        return sudoku\n    }\n\n    public static createBasicSudoku(): Sudoku {\n        const nRows = 9\n        const nCols = 9\n\n        const constraints = SudokuFactory.getBasicConstraints(nRows, nCols)\n        return new Sudoku(nRows, nCols, constraints);\n    }\n\n    public static createNRCSudoku(): Sudoku {\n        const nRows = 9\n        const nCols = 9\n\n        const constraints = SudokuFactory.getBasicConstraints(nRows, nCols)\n        const subConstraints = SudokuFactory.getAreaConstraints([1, 5])\n        return new Sudoku(nRows, nCols, [...constraints, ...subConstraints]);\n    }\n\n    public static fillNRCSudoku(sudoku: Sudoku) {\n        [\n            [1, 0, 2],\n            [1, 3, 4],\n            [1, 4, 6],\n            [1, 8, 5],\n            [2, 8, 9],\n            [3, 1, 1],\n            [3, 5, 7],\n            [5, 1, 9],\n            [5, 5, 2],\n            [5, 6, 5],\n            [6, 2, 3],\n            [7, 3, 6],\n            [7, 5, 1],\n            [7, 6, 4],\n            [8, 3, 8]\n        ].forEach(([row, col, value]) =>\n            sudoku.setValue({row, col}, value));\n    }\n\n    public static fillBasicSudoku(sudoku: Sudoku) {\n        [\n            [0, 2, 3],\n            [0, 4, 1],\n            [0, 6, 5],\n            [1, 5, 9],\n            [1, 7, 7],\n            [1, 8, 6],\n            [2, 0, 6],\n            [2, 3, 7],\n            [2, 5, 5],\n            [2, 8, 1],\n            [3, 4, 4],\n            [3, 6, 8],\n            [4, 1, 7],\n            [4, 6, 4],\n            [4, 8, 2],\n            [5, 0, 9],\n            [5, 1, 1],\n            [5, 7, 6],\n            [6, 2, 9],\n            [6, 5, 8],\n            [6, 6, 1],\n            [6, 8, 4],\n            [7, 6, 6],\n            [8, 0, 5],\n            [8, 4, 2],\n            [8, 7, 9],\n            [8, 8, 7],\n        ].forEach(([row, col, value]) =>\n            sudoku.setValue({row, col}, value));\n    }\n\n\n}\n","import { SudokuFactory } from \"./SudokuFactory\"\nimport { Sudoku } from \"./Sudoku\"\n\nexport interface SudokuVariant {\n    id: string\n    name: string\n    create: () => Sudoku\n    fill: (sudoku: Sudoku) => void\n}\n\nexport const SudokuVariants = {\n    Basic: {\n        id: \"Basic\",\n        name: \"Basic Sudoku\",\n        create: SudokuFactory.createBasicSudoku,\n        fill: SudokuFactory.fillBasicSudoku\n    },\n    NRC: {\n        id: \"NRC\",\n        name: \"NRC Sudoku\",\n        create: SudokuFactory.createNRCSudoku,\n        fill: SudokuFactory.fillNRCSudoku\n    }\n}\n","import { SudokuVariants } from \"./types/SudokuVariants\"\n\nexport interface SudokuOptions {\n    showPossibleValues: boolean,\n    showHint: boolean\n}\n\nexport const Default = {\n    sudokuVariant: SudokuVariants.NRC,\n    options: {\n        showPossibleValues: false,\n        showHint: false\n    }\n}\n","import React, { ChangeEvent, useState } from 'react'\n\nimport { Input } from \"@material-ui/core\"\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\nimport { Sudoku, SudokuIndex } from \"../types/Sudoku\"\nimport { SudokuValue } from \"../types/SudokuCell\"\nimport { SudokuOptions } from \"../config\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        textField: {\n            '& > *': {\n                textAlign: \"center\",\n            },\n        }\n    }),\n);\n\nexport interface SudokuCellEditorProps {\n    sudoku: Sudoku,\n    sudokuOptions: SudokuOptions,\n    index: SudokuIndex,\n    onChange: (index: SudokuIndex, value: SudokuValue) => SudokuValue\n}\n\nexport default function SudokuCellEditor(props: SudokuCellEditorProps) {\n    const classes = useStyles();\n\n    const { sudoku, sudokuOptions, index } = props\n\n    const [value, setValue] = useState(sudoku.getValue(index) || \"\")\n\n    const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\n        const newValue: SudokuValue = Number(event.target.value)\n        const value = props.onChange(index, isNaN(newValue) ? null : newValue)\n        setValue(value || \"\")\n    }\n\n    if (sudokuOptions.showHint && !value) {\n        return null\n    }\n\n    return (\n        <form noValidate autoComplete=\"off\">\n            <Input className={classes.textField} disableUnderline={true}\n                   value={value}\n                   onChange={onChange}/>\n        </form>\n    );\n}\n","import React from 'react'\nimport { Sudoku, SudokuIndex } from \"../types/Sudoku\"\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\"\nimport { SudokuHelper } from \"../types/SudokuHelper\"\nimport { SudokuValue } from \"../types/SudokuCell\"\nimport { IconButton } from \"@material-ui/core\"\nimport { SudokuOptions } from \"../config\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            position: \"absolute\",\n            top: 7,\n            left: 8,\n            textAlign: \"center\",\n            marginLeft: \"2px\",\n        },\n    }),\n);\n\nexport interface SudokuHintProps {\n    sudoku: Sudoku,\n    sudokuHelper: SudokuHelper,\n    options: SudokuOptions,\n    index: SudokuIndex\n    onChange: (index: SudokuIndex, value: SudokuValue) => SudokuValue\n}\n\nfunction SudokuHint(props: SudokuHintProps) {\n    const classes = useStyles();\n    const { sudoku, sudokuHelper, options, index } = props\n    const value = sudoku.getValue(index)\n\n    const mandatoryValue = sudokuHelper.mandatoryValue(index)\n\n    if (value !== null || !options.showHint || mandatoryValue === null) {\n        // Nothing for existing values\n        return null\n    }\n\n    const onProposalClick = (proposal:number) => {\n        props.onChange(index, proposal)\n    }\n\n    return (\n        <IconButton\n            className={classes.root}\n            size={\"small\"}\n            color={\"secondary\"}\n            onClick={() => onProposalClick(mandatoryValue)}>\n            ?\n        </IconButton>\n    )\n}\n\nexport default SudokuHint","import { Sudoku, SudokuIndex } from \"./Sudoku\"\nimport { SudokuValue } from \"./SudokuCell\"\n\ntype IndexInfo = {\n    allowedValues: SudokuValue[]\n    mandatoryValue: SudokuValue\n}\n\nexport class SudokuHelper {\n    private _sudoku: Sudoku\n    private _info: IndexInfo[][]\n\n    constructor(sudoku: Sudoku) {\n        this._sudoku = sudoku\n\n        this._info = []\n        this._sudoku.rowIndexes.forEach(row => {\n            this._info[row] = []\n            this._sudoku.colIndexes.forEach(col => {\n                this._info[row][col] = {\n                    allowedValues: [],\n                    mandatoryValue: null\n                }\n            })\n        })\n    }\n\n    private getInfo(index: SudokuIndex) {\n        const {row, col} = index\n        return this._info[row][col]\n    }\n\n    public analyze() {\n        for (let index of this._sudoku.indexes) {\n            const {row, col} = index\n            const value = this._sudoku.getValue(index)\n            if (value === null) {\n                this._info[row][col].allowedValues = this._sudoku.allowedValues(index)\n            } else {\n                this._info[row][col].allowedValues = [value]\n            }\n        }\n\n        // Find any mandatory values\n        for (let index of this._sudoku.indexes) {\n            const {row, col} = index\n            if (this.allowedValues(index).length === 1) {\n                this._info[row][col].mandatoryValue = this.allowedValues(index)[0]\n            } else {\n                this.setMandatoryValue(index)\n            }\n        }\n    }\n\n    private setMandatoryValue(index: SudokuIndex) {\n        const info = this.getInfo(index)\n        const constraints = this._sudoku.constraints.filter(c => c.appliesTo(index))\n        for (let value of info.allowedValues) {\n            // Try finding a value with only one possible index within a constraint\n            for (let constraint of constraints) {\n                let nPossibilities = 0\n                for (let constraintIndex of constraint.constraintIndexes(this._sudoku)) {\n                    if (this.getInfo(constraintIndex).allowedValues.includes(value)) {\n                        nPossibilities += 1\n                    }\n                    if (nPossibilities > 1) {\n                        break;\n                    }\n                }\n                if (nPossibilities === 1) {\n                    info.mandatoryValue = value\n                    return\n                }\n            }\n        }\n    }\n\n    public getHint(): [SudokuIndex, SudokuValue] | undefined {\n        for (let index of this._sudoku.indexes) {\n            const mandatoryValue = this.mandatoryValue(index)\n            if (this._sudoku.getValue(index) === null && mandatoryValue !== null) {\n                return [index, mandatoryValue]\n            }\n        }\n    }\n\n    public allowedValues(index: SudokuIndex) {\n        const {row, col} = index\n        return this._info[row][col].allowedValues\n    }\n\n    public mandatoryValue(index: SudokuIndex) {\n        const {row, col} = index\n        return this._info[row][col].mandatoryValue\n    }\n}\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { SudokuOptions } from \"../config\"\n\nexport interface SudokuOptionsEditorProps {\n    options: SudokuOptions,\n    onOption: (name: string, value: boolean) => void\n}\n\nexport default function SudokuOptionsEditor(props: SudokuOptionsEditorProps) {\n    const [state, setState] = React.useState(props.options);\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, checked } = event.target\n        setState({ ...state, [name]: checked });\n        props.onOption(name, checked)\n    };\n\n    const switches = {\n        showPossibleValues: \"Show possible values\",\n        showHint: \"Show hint\"\n    }\n\n    return (\n        <FormControl component=\"fieldset\">\n            <FormGroup>\n                {Object.entries(switches).map(([name, label]) => {\n                    const key = name as keyof SudokuOptions\n                    return (\n                        <FormControlLabel key={key}\n                            control={\n                                <Switch checked={state[key]}\n                                        onChange={handleChange}\n                                        name={name}/>\n                            }\n                            label={label}\n                        />\n                    )\n                })}\n            </FormGroup>\n        </FormControl>\n    );\n}\n","import React from 'react'\nimport { Button } from \"@material-ui/core\"\nimport BuildIcon from '@material-ui/icons/Build'\nimport { SudokuHelper } from \"../types/SudokuHelper\"\nimport { SudokuValue } from \"../types/SudokuCell\"\nimport { SudokuIndex } from \"../types/Sudoku\"\n\nexport interface SudokuSolverProps {\n    sudokuHelper: SudokuHelper,\n    onChange: (index: SudokuIndex, value: SudokuValue) => SudokuValue\n}\n\nfunction SudokuSolver(props: SudokuSolverProps) {\n    const {sudokuHelper, onChange} = props\n\n    const solve = () => {\n        const hint = sudokuHelper.getHint()\n        if (hint) {\n            const [index, value] = hint\n            onChange(index, value)\n            setTimeout(() => solve(), 0)\n        }\n    }\n\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<BuildIcon />}\n            onClick={solve}\n        >\n            Solve\n        </Button>\n    )\n}\n\nexport default SudokuSolver","import React from 'react'\n\nimport { Button } from \"@material-ui/core\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\n\nexport interface SudokuEraserProps {\n    onErase: () => void\n}\n\nfunction SudokuEraser(props: SudokuEraserProps) {\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<DeleteIcon />}\n            onClick={props.onErase}\n        >\n            Clear\n        </Button>\n    )\n}\n\nexport default SudokuEraser","import React from 'react'\nimport { Sudoku, SudokuIndex } from \"../types/Sudoku\"\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\"\nimport { SudokuHelper } from \"../types/SudokuHelper\"\nimport { SudokuCell } from \"../types/SudokuCell\"\nimport { SudokuOptions } from \"../config\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        possibleValues: {\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            textAlign: \"left\",\n            marginLeft: \"2px\",\n            fontSize: \"8px\",\n            fontFamily: \"monospace\"\n        }\n    }),\n);\n\nexport interface SudokuPossibilitiesProps {\n    sudoku: Sudoku,\n    sudokuHelper: SudokuHelper,\n    options: SudokuOptions,\n    index: SudokuIndex\n}\n\nfunction SudokuPossibilities(props: SudokuPossibilitiesProps) {\n    const classes = useStyles();\n    const { sudoku, sudokuHelper, options, index } = props\n    const value = sudoku.getValue(index)\n\n    if (value !== null || !options.showPossibleValues) {\n        // Nothing for existing values\n        return null\n    }\n    const allowedValues = sudokuHelper.allowedValues(index)\n\n    const displayValues = SudokuCell.ValidValues.map(v => {\n        return allowedValues.includes(v) ? v : \" \"\n    }).join(\"\")\n    const lines = [0, 3, 6].map(n => displayValues.substr(n, 3))\n\n    return (\n        <div className={classes.possibleValues}>\n            {lines.map(line => <div>\n                {line.replace(/ /g, \"\\u00a0\")}\n            </div>)}\n        </div>\n    )\n}\n\nexport default SudokuPossibilities","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Sudoku, SudokuIndex } from \"../types/Sudoku\"\nimport SudokuCellEditor from \"./SudokuCellEditor\"\nimport SudokuHint from \"./SudokuHint\"\nimport { SudokuHelper } from \"../types/SudokuHelper\"\nimport { SudokuValue } from \"../types/SudokuCell\"\nimport SudokuOptionsEditor from \"./SudokuOptionsEditor\"\nimport SudokuSolver from \"./SudokuSolver\"\nimport SudokuEraser from \"./SudokuEraser\"\nimport { Default } from \"../config\"\nimport SudokuPossibilities from \"./SudokuPossibilities\"\nimport { getStyle } from \"../types/SudokuStyler\"\nimport { Box, Grid } from \"@material-ui/core\"\n\nexport interface SudokuEditorProps {\n    sudoku: Sudoku,\n}\n\nconst CELL_WIDTH = 35\nconst CELL_HEIGHT = 35\n\nexport function SudokuEditor(props:SudokuEditorProps) {\n    const [change, setChange] = useState(\"\")\n    const [options, setOptions] = useState(Default.options)\n\n    const { sudoku } = props\n\n    const helper = new SudokuHelper(sudoku)\n    helper.analyze()\n\n    const useStyles = makeStyles({\n        table: {\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            border: \"1px solid black\",\n            borderSpacing: 0,\n        },\n        tableCell: {\n            position: \"relative\",\n            backgroundColor: \"inherit\",\n            border: \"1px solid black\",\n            padding: 0,\n            margin: 0,\n            textAlign: \"center\",\n            verticalAlign: \"center\",\n            width: CELL_WIDTH,\n            height: CELL_HEIGHT,\n        },\n    });\n    const classes = useStyles();\n\n    const getKey = (index: SudokuIndex, value: SudokuValue) => {\n        return `${index.row}.${index.col}.${value}`\n    }\n\n    const onChange = (index: SudokuIndex, value: SudokuValue) => {\n        if (sudoku.isValidValue(index, value)) {\n            sudoku.setValue(index, value)\n        } else {\n            sudoku.setValue(index, null)\n        }\n        value = sudoku.getValue(index)\n        setChange(getKey(index, value))\n        helper.analyze()\n        return value\n    }\n\n    const onOption = (name: string, value: boolean) => {\n        setOptions({\n            ...options,\n            [name]: value\n        })\n    }\n\n    const onErase = () => {\n        sudoku.clear()\n        setChange(\"Clear\")\n    }\n\n    // const values: number[][] = []\n    // sudoku.rowIndexes.forEach(row => {\n    //     sudoku.colIndexes.forEach(col => {\n    //         const value = sudoku.getValue({row, col})\n    //         if (value !== null) {\n    //             values.push([row, col, value])\n    //         }\n    //     })\n    // })\n    // {/*<p>*/}\n    // {/*    {values.map(value => (*/}\n    // {/*        <div >*/}\n    // {/*            [{value.join(\", \")}],*/}\n    // {/*        </div>*/}\n    // {/*    ))}*/}\n    // {/*</p>*/}\n\n\n    return (\n        <div>\n        <Grid container\n              direction={\"column\"}\n              justify={\"space-around\"}\n              alignItems={\"center\"}>\n            <table className={classes.table}>\n                <tbody>\n                {sudoku.rowIndexes.map(row => {\n                    return (\n                        <tr key={row}>\n                            {sudoku.colIndexes.map(col => {\n                                const index = {row, col}\n                                const key = getKey(index, sudoku.getValue(index))\n                                const style = getStyle(sudoku, index)\n                                if (key === change) {\n                                    style.backgroundColor = \"LightBlue\"\n                                }\n                                return (\n                                    <td key={key} className={classes.tableCell} style={style}>\n                                        <SudokuPossibilities sudoku={sudoku}\n                                                             sudokuHelper={helper}\n                                                             options={options}\n                                                             index={index}/>\n                                        <SudokuHint sudoku={sudoku}\n                                                    sudokuHelper={helper}\n                                                    options={options}\n                                                    index={index}\n                                                    onChange={onChange}/>\n                                        <SudokuCellEditor sudoku={sudoku}\n                                                          sudokuOptions={options}\n                                                          index={index}\n                                                          onChange={onChange}/>\n                                    </td>\n                                )\n                            })}\n                        </tr>\n                    )\n                })}\n                </tbody>\n            </table>\n\n            </Grid>\n\n            <Grid\n                container\n                direction=\"row\"\n                justify=\"space-between\"\n                alignItems=\"flex-start\"\n            >\n\n            <SudokuOptionsEditor options={options} onOption={onOption}/>\n\n            <div style={{textAlign: \"right\"}}>\n                <Box mt={1}>\n                    <SudokuSolver sudokuHelper={helper} onChange={onChange}/>\n                </Box>\n\n                <Box mt={1} mb={2}>\n                    <SudokuEraser onErase={onErase}/>\n                </Box>\n            </div>\n\n            </Grid>\n\n        </div>\n    );\n}\n\nexport default SudokuEditor\n","import { Sudoku, SudokuIndex } from \"./Sudoku\"\nimport { SudokuAreaConstraint } from \"./SudokuConstraint\"\n\nexport function getStyle(sudoku: Sudoku, index: SudokuIndex) {\n    const defaultBorder = \"1px solid black\"\n    const boldBorder = \"2px solid black\"\n    const style = {\n        borderTop: defaultBorder,\n        borderRight: defaultBorder,\n        borderBottom: defaultBorder,\n        borderLeft: defaultBorder,\n        backgroundColor: \"inherit\"\n    }\n    for (let constraint of sudoku.constraints) {\n        if (constraint instanceof SudokuAreaConstraint) {\n            if ([1, 5].includes(constraint.firstRow) || [1,5].includes(constraint.firstCol)) {\n                if (constraint.appliesTo(index)) {\n                    style.backgroundColor = \"lightGrey\"\n                }\n                continue\n            }\n            if (index.row === constraint.firstRow) {\n                style.borderTop = boldBorder\n            } else if (index.row === constraint.lastRow) {\n                style.borderBottom = boldBorder\n            }\n            if (index.col === constraint.firstCol) {\n                style.borderLeft = boldBorder\n            } else if (index.col === constraint.lastCol) {\n                style.borderRight = boldBorder\n            }\n        }\n    }\n    return style\n}","import React, { useState } from 'react'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { SudokuVariant, SudokuVariants } from \"../types/SudokuVariants\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            margin: theme.spacing(1),\n            minWidth: 140,\n        },\n        selectEmpty: {\n            marginTop: theme.spacing(2),\n        },\n    }),\n);\n\nexport interface SudokuVariantSelectorProps {\n    variant: SudokuVariant,\n    onVariant: (variant: SudokuVariant) => void\n}\n\nexport default function SudokuVariantSelector(props: SudokuVariantSelectorProps) {\n    const classes = useStyles();\n    const [variant, setVariant] = useState(props.variant)\n\n    const onChange = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\n        const id = event.target.value as string\n        const variant = Object.values(SudokuVariants).filter(v => v.id === id)\n        if (variant.length) {\n            setVariant(variant[0])\n            props.onVariant(variant[0])\n        }\n    }\n\n    return (\n        <div>\n            <FormControl className={classes.formControl}>\n                <InputLabel>Sudoku Variant</InputLabel>\n                <Select\n                    native\n                    value={variant.id}\n                    onChange={onChange}\n                >\n                    {Object.values(SudokuVariants).map((option: SudokuVariant) => (\n                        <option key={option.id} value={option.id}>{option.name}</option>\n                    ))}\n                </Select>\n            </FormControl>\n        </div>\n    );\n}\n","import React, { useState } from 'react'\n\nimport { Default } from \"../config\"\n\nimport { SudokuVariant } from \"../types/SudokuVariants\"\nimport { SudokuFactory } from \"../types/SudokuFactory\"\n\nimport SudokuEditor from \"./SudokuEditor\"\nimport SudokuVariantSelector from \"./SudokuVariantSelector\"\nimport { Grid, Paper } from \"@material-ui/core\"\n\nexport default function SudokuApp() {\n    const [variant, setVariant] = useState(Default.sudokuVariant)\n    const [sudoku, setSudoku] = useState(SudokuFactory.create(variant, true))\n\n    const onVariant = (variant: SudokuVariant) => {\n        const sudoku = SudokuFactory.create(variant, true)\n        setVariant(variant)\n        setSudoku(sudoku)\n    }\n\n    return (\n        <Paper elevation={3} style={{width: 375}}>\n            <Grid container\n                  direction={\"column\"}\n                  justify={\"space-around\"}\n                  alignItems={\"center\"}>\n                <SudokuVariantSelector variant={variant} onVariant={onVariant}/>\n                <SudokuEditor sudoku={sudoku}/>\n            </Grid>\n        </Paper>\n    )\n}","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            flexGrow: 1,\n        },\n        menuButton: {\n            marginRight: theme.spacing(2),\n        },\n        title: {\n            flexGrow: 1,\n        },\n    }),\n);\n\nexport default function SudokuAppBar() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Sudoku Solver\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}\n","import React from 'react';\r\n\r\nimport { Box, Grid } from \"@material-ui/core\"\r\n\r\nimport SudokuApp from \"./components/SudokuApp\"\r\nimport SudokuAppBar from \"./components/SudokuAppBar\"\r\n\r\nfunction App() {\r\n    return (\r\n        <div>\r\n            <Box mb={2}>\r\n                <SudokuAppBar/>\r\n            </Box>\r\n            <Grid container\r\n                  direction={\"column\"}\r\n                  alignItems={\"center\"}\r\n                  justify={\"center\"}>\r\n                <SudokuApp/>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n};\n\nexport const SudokuSlice = createSlice({\n    name: 'sudoku',\n    initialState,\n    reducers: {\n    },\n});\n\nexport default SudokuSlice.reducer","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport sudokuReducer from './SudokuSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    counter: sudokuReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}